{"version":3,"sources":["assets\\Script\\WebPostMessage.ts"],"names":[],"mappings":";;;;;;;AAAA,wCAAyC;AACzC,8CAA6C;AAC7C,6CAAwC;AAExC;IAAA;IAgCA,CAAC;IA/BG,sBAAsB;IACtB,gCAAO,GAAP;QACI,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IACrE,CAAC;IACD,WAAW;IACX,6BAAI,GAAJ,UAAK,IAAY;QACb,YAAY;QACZ,kCAAkC;QAClC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAEpB,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAEhC,CAAC;IACD,WAAW;IACX,yCAAgB,GAAhB,UAAiB,KAAK;QAClB,IAAM,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;QAC3B,IAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;QACrC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACrB,QAAQ,QAAQ,EAAE;YACd,KAAK,CAAC;gBACF,kBAAQ,CAAC,IAAI,CAAC,qBAAS,CAAC,WAAW,EAAE,iBAAQ,CAAC,UAAU,CAAC,CAAA;gBACzD,MAAM;YAEV;gBACI,MAAM;SACb;QACD,gCAAgC;QAChC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;IAC/B,CAAC;IAEL,qBAAC;AAAD,CAhCA,AAgCC,IAAA;AAhCY,wCAAc","file":"","sourceRoot":"/","sourcesContent":["import { Commamnd } from \"./Enum/Commad\";\r\nimport { GameEvent } from \"./Enum/GameEvent\";\r\nimport EventMng from \"./Event/EventMng\";\r\n\r\nexport class WebPostMessage {\r\n    // curreVideo: number;\r\n    connect(): void {\r\n        window.addEventListener(\"message\", this.onReceiveMessage, false);\r\n    }\r\n    //  傳給網頁端訊息\r\n    send(data: object): void {\r\n        //@ts-ignore\r\n        // this.curreVideo = data.viewType\r\n        console.error(data);\r\n\r\n        window.parent.postMessage(data, \"*\");\r\n        console.log(\"傳遞封包內容\", data);\r\n\r\n    }\r\n    //接收到網頁給的訊息\r\n    onReceiveMessage(event): void {\r\n        const cmd = event.data.cmd;\r\n        const viewType = event.data.viewType;\r\n        console.error(event);\r\n        switch (viewType) {\r\n            case 0:\r\n                EventMng.emit(GameEvent.SendCommand, Commamnd.CloseVideo)\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n        // EventMng.emit(cmd, viewType);\r\n        console.log(\"收到內容\", event);\r\n    }\r\n\r\n}"]}