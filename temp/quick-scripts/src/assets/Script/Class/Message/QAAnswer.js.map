{"version":3,"sources":["assets\\Script\\Class\\Message\\QAAnswer.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AssetMng from '../../Asset/AssetMng';\r\nimport ButtonMng from '../../Data/base/ButtonMng';\r\nimport ComponentBase from '../../Data/base/ComponentBase';\r\nimport MusciMng from '../../Data/base/MusciMng';\r\nimport { Commamnd } from '../../Enum/Commad';\r\nimport { GameEvent } from '../../Enum/GameEvent';\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class QAAnswer extends ComponentBase {\r\n    item_Btn: cc.Node;\r\n    bear: Bear;\r\n    label_message: cc.Label;\r\n\r\n    con_Btn: cc.Node;\r\n\r\n    protected onLoad(): void {\r\n        this.bear = cc.find(\"Bear\", this.node).addComponent(Bear);\r\n        this.label_message = cc.find(\"Message/Label\", this.node).getComponent(cc.Label)\r\n        this.con_Btn = cc.find(\"Con_Btn\", this.node)\r\n        this.item_Btn = cc.find(\"Item_Btn\", this.node)\r\n        // this.item_Btn.addComponent(Btn)\r\n\r\n    }\r\n    protected start(): void {\r\n        this.item_Btn.active = false\r\n        this.defaultReset()\r\n        this.reset()\r\n    }\r\n    reset(): void {\r\n        this.bear.bearAnimation.stop()\r\n        this.bear.bearSprite.spriteFrame = null\r\n        // this.bear.answerSprtie.spriteFrame = null\r\n        this.con_Btn.removeAllChildren();\r\n        this.label_message.string = \"\";\r\n\r\n    }\r\n    trueAnswer() {\r\n        this.label_message.string = \"恭喜答對!!\";\r\n\r\n        let _node = cc.instantiate(this.item_Btn)\r\n        this.con_Btn.addChild(_node, cc.macro.MAX_ZINDEX)\r\n        cc.find(\"Label\", _node).getComponent(cc.Label).string = \"詳解\"\r\n        ButtonMng.addEvent(this.node, \"QAAnswer\", \"whichGO\", _node.getComponent(cc.Button), \"0\")\r\n        _node.setPosition(0, 0)\r\n        _node.active = true;\r\n\r\n\r\n        _node = cc.instantiate(this.item_Btn)\r\n        this.con_Btn.addChild(_node, cc.macro.MAX_ZINDEX)\r\n        cc.find(\"Label\", _node).getComponent(cc.Label).string = \"繼續\"\r\n        ButtonMng.addEvent(this.node, \"QAAnswer\", \"whichGO\", _node.getComponent(cc.Button), \"1\")\r\n        _node.setPosition(0, 0)\r\n        _node.active = true;\r\n\r\n        this.bear.bearAnimation.play(\"Bear_True\")\r\n        // this.bear.bearSprite.spriteFrame = AssetMng.data_SprtieAtlas.get(\"\")\r\n        // this.bear.answerSprtie.spriteFrame = AssetMng.data_SprtieAtlas.get(\"\")\r\n    }\r\n\r\n    falseAnswer() {\r\n        this.label_message.string = \"答案錯誤!\\n\\r請再接再厲!!!\";\r\n\r\n\r\n        let _node = cc.instantiate(this.item_Btn)\r\n        this.con_Btn.addChild(_node, cc.macro.MAX_ZINDEX)\r\n        cc.find(\"Label\", _node).getComponent(cc.Label).string = \"回到題目\"\r\n        ButtonMng.addEvent(this.node, \"QAAnswer\", \"whichGO\", _node.getComponent(cc.Button), \"2\")\r\n        _node.setPosition(0, 0)\r\n        _node.active = true;\r\n\r\n        this.bear.bearAnimation.play(\"Bear_False\")\r\n        // this.bear.bearSprite.spriteFrame = AssetMng.data_SprtieAtlas.get(\"\")\r\n        // this.bear.answerSprtie.spriteFrame = AssetMng.data_SprtieAtlas.get(\"\")\r\n\r\n    }\r\n    async whichGO(e: cc.Event, _customEventData: string) {\r\n        MusciMng.effectPlay(\"BtnClick\")\r\n        this.hide()\r\n        switch (Number(_customEventData)) {\r\n            case 0://詳解\r\n                this.EventEmit(GameEvent.SendCommand, Commamnd.ShowExplain)\r\n                break\r\n            case 1://下一流程(關閉畫面後回到火車畫面)\r\n                this.EventEmit(GameEvent.SendCommand, Commamnd.EndAnswer)\r\n                break\r\n            case 2://答錯回到上一個畫面\r\n                this.EventEmit(GameEvent.SendCommand, Commamnd.ShowAgainQA)\r\n                break\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass Bear extends ComponentBase {\r\n    bearAnimation: cc.Animation;\r\n    bearSprite: cc.Sprite;\r\n    answerSprtie: cc.Sprite;\r\n    protected onLoad(): void {\r\n        this.bearAnimation = this.node.getComponent(cc.Animation)\r\n        this.bearSprite = this.node.getComponent(cc.Sprite)\r\n        this.answerSprtie = cc.find(\"Hand/Icon\", this.node).getComponent(cc.Sprite)\r\n    }\r\n}\r\n\r\nclass Btn extends ComponentBase {\r\n    str: cc.Label;\r\n    button: cc.Button;\r\n\r\n    protected onLoad(): void {\r\n        this.str = cc.find(\"Label\", this.node).getComponent(cc.Label)\r\n        this.button = this.node.getComponent(cc.Button)\r\n        // console.log(\"!!!!!!!!!?\");\r\n    }\r\n\r\n}\r\n"]}