{"version":3,"sources":["assets\\Script\\Data\\base\\MusciMng.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AssetMng from \"../../Asset/AssetMng\";\r\n\r\nclass MusicMng {\r\n    musicVol: number = 0.8;\r\n    effectVol: number = 0.8;\r\n    default_Music: number = 0.8;\r\n    default_Effect: number = 0.8;\r\n    isMusicOpen: boolean = true;\r\n    isEffectOpen: boolean = true;\r\n\r\n\r\n    musicID: number;\r\n\r\n    effectID: Map<string, number> = new Map()\r\n    init() {\r\n        // this.setMusicVol(0)\r\n        // this.setEffectsicVol(0)\r\n        // this.swichMusic()\r\n        // this.swichEffect()\r\n        this.setMusicVol()\r\n        this.setEffectsicVol()\r\n    }\r\n\r\n    testPlayMusic(str: string, isLoop: boolean = true) {\r\n\r\n        this.musicID = cc.audioEngine.play(AssetMng.data_Music.get(str), isLoop, this.musicVol)\r\n    }\r\n\r\n    swichMusic() {\r\n\r\n        this.isMusicOpen = !this.isMusicOpen\r\n        cc.audioEngine.setMusicVolume(this.isMusicOpen ? this.musicVol : 0)\r\n    }\r\n    setMusicVol(vol?: number) {\r\n        this.musicVol = vol ? vol : this.musicVol\r\n        cc.audioEngine.setMusicVolume(this.isMusicOpen ? this.musicVol : 0)\r\n    }\r\n    musicPlay(str: string, isLoop: boolean = true) {\r\n        this.musicStop()\r\n        this.musicID = cc.audioEngine.playMusic(AssetMng.data_Music.get(str), isLoop)\r\n    }\r\n    musicStop() {\r\n        cc.audioEngine.stopMusic()\r\n    }\r\n\r\n    swichEffect() {\r\n        this.isEffectOpen = !this.isEffectOpen\r\n        cc.audioEngine.setEffectsVolume(this.isEffectOpen ? this.effectVol : 0)\r\n    }\r\n    setEffectsicVol(vol?: number) {\r\n        this.effectVol = vol ? vol : this.effectVol\r\n        cc.audioEngine.setEffectsVolume(this.isEffectOpen ? this.effectVol : 0)\r\n    }\r\n    effectPlay(str: string, isLoop: boolean = false) {\r\n        this.effectID.set(str, cc.audioEngine.playEffect(AssetMng.data_Music.get(str), isLoop))\r\n    }\r\n\r\n    effectStop(str: string) {\r\n        cc.audioEngine.stopEffect(this.effectID.get(str))\r\n\r\n    }\r\n    effectAllStop() {\r\n        this.effectID.forEach((value: number, key: string) => {\r\n            cc.audioEngine.stopEffect(this.effectID.get(key))\r\n        });\r\n        this.effectID.clear()\r\n    }\r\n}\r\nexport default new MusicMng();"]}