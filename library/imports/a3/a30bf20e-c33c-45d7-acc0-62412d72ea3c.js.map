{"version":3,"sources":["assets\\Script\\Class\\UI\\Setting.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ButtonMng from '../../Data/base/ButtonMng';\r\nimport ComponentBase from '../../Data/base/ComponentBase';\r\nimport MusciMng from '../../Data/base/MusciMng';\r\nimport SettingBtn from './SettingBtn';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Setting extends ComponentBase {\r\n    isOpen: boolean\r\n    item: cc.Node\r\n    btn_ControllOpen: cc.Button\r\n    scroll: cc.ScrollView;\r\n    con: cc.Node\r\n    Layout_Mask: cc.Layout;\r\n    Layout_BG1: cc.Layout;\r\n    Layout_BG2: cc.Layout;\r\n    maxIndex: number = 4\r\n    itemCount: number = 1;\r\n    info3: cc.Node\r\n    itemMap:Map<number,any> = new Map()\r\n\r\n    protected onLoad(): void {\r\n        this.btn_ControllOpen = cc.find(\"Btn_ControllOpen\", this.node).getComponent(cc.Button)\r\n        this.item = cc.find(\"item\", this.node)\r\n        this.scroll = cc.find(\"con_Scroll\", this.node).getComponent(cc.ScrollView)\r\n        this.con = this.scroll.content\r\n        this.con.removeAllChildren()\r\n        this.con.setContentSize(0, 0)\r\n        this.Layout_BG1 = cc.find(\"Layout_BG1\", this.scroll.node).getComponent(cc.Layout)\r\n        this.Layout_BG2 = cc.find(\"Layout_BG2\", this.Layout_BG1.node).getComponent(cc.Layout)\r\n        this.Layout_Mask = cc.find(\"Layout_Mask\", this.Layout_BG2.node).getComponent(cc.Layout)\r\n        this.info3 = cc.find('Info3', this.node)\r\n\r\n        this.itemInit()\r\n        this.info3.active = false\r\n    }\r\n    protected start(): void {\r\n        // ButtonMng.addEvent(this.node, \"Setting\", \"eventControllOpen\", this.btn_ControllOpen)\r\n    }\r\n    itemInit() {\r\n        for (let index = 0; index < this.itemCount; index++) {\r\n            this.itemSop(index)\r\n        }\r\n\r\n\r\n        //有問題的方法\r\n        // if (this.maxIndex < this.itemCount) {\r\n        //     for (let index = 0; index < this.maxIndex; index++) {\r\n        //         this.itemSop(index)\r\n        //     }\r\n        //     setTimeout(() => {//給時間渲染\r\n        //         this.closeLayout()\r\n        //         setTimeout(() => {\r\n        //             for (let index = this.maxIndex; index < this.itemCount; index++) {\r\n        //                 this.itemSop(index)\r\n        //             }\r\n        //         }, 100);\r\n        //     }, 100);\r\n        // }\r\n        // else {\r\n        //     for (let index = 0; index < this.itemCount; index++) {\r\n        //         this.itemSop(index)\r\n        //     }\r\n        // }\r\n    }\r\n    eventControllOpen(e: cc.Event, _customEventData: string) {\r\n        MusciMng.effectPlay(\"BtnClick\")\r\n        if (this.isOpen) {\r\n            this.scroll.node.active = false\r\n            this.isOpen = this.scroll.node.active\r\n        }\r\n        else {\r\n            this.scroll.node.active = true\r\n            this.isOpen = this.scroll.node.active\r\n        }\r\n    }\r\n    itemSop(index: number) {\r\n        let _item = cc.instantiate(this.item)\r\n        this.con.addChild(_item,cc.macro.MAX_ZINDEX,index.toString());\r\n        let _class = _item.addComponent(SettingBtn)\r\n        this.itemMap.set(index,_class)\r\n        _class.setEvent(index)\r\n        _item.active = true\r\n    }\r\n    closeLayout() {\r\n        this.Layout_BG1.enabled = false\r\n        this.Layout_BG2.enabled = false\r\n        this.Layout_Mask.enabled = false\r\n    }\r\n\r\n\r\n}"]}