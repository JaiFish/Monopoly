{"version":3,"sources":["assets\\Script\\Class\\Mam\\ManAnimation.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import DataMan from \"../../Data/DataMan\";\r\nimport ComponentBase from \"../../Data/base/ComponentBase\"\r\n\r\nexport default class ManAction extends DataMan {\r\n    startGO() {\r\n        if (!this.isCanGo) this.isCanGo = !this.isCanGo;\r\n    }\r\n    stopGo() {\r\n        if (this.isCanGo) this.isCanGo = !this.isCanGo;\r\n    }\r\n    StartGO_Tween(_gameModle: GameModle, GoCount: number, SayGO?: boolean) {\r\n        if (!this.gameModle) this.setGameModle(_gameModle)\r\n        // console.log(GoCount);\r\n        if (GoCount == 0) return;\r\n        this.nowIndex++\r\n        GoCount--;\r\n        let tryData: Array<cc.Vec2> = this.gameModle.pathBezierData.get(this.nowIndex)\r\n        if (tryData == undefined) this.GoLine(GoCount)\r\n        else {\r\n            this.GoBezier(GoCount, 0, tryData.length)\r\n        }\r\n\r\n    }\r\n    GoBezier(GoCount: number, BezierCount, len: number) {\r\n        // if (BezierCount >= len) {\r\n        //     this.StartGO(GoCount);\r\n        //     return\r\n        // }\r\n        let getPosition: cc.Vec2[] = this.gameModle.pathBezierData.get(this.nowIndex)\r\n\r\n        // let getPosition: cc.Vec2 = this.gameModle.pathBezierData.get(this.nowIndex)[BezierCount]\r\n\r\n        // BezierCount++;\r\n        // console.log(getPosition);\r\n        //起點\r\n        // 中間點\r\n        // 再來終點\r\n        // console.log(getPosition[1]);\r\n        // console.log(getPosition[0]);\r\n        // console.log(getPosition[2]);\r\n\r\n\r\n        cc.tween(this.nMan)\r\n            // .to(this.TweenTime / len, { x: getPosition.x, y: getPosition.y }, { easing: dt => cc.easeCubicActionOut().easing(dt) })\r\n            .bezierTo(1, getPosition[0], getPosition[1], getPosition[2],\r\n                { easing: dt => cc.easeCubicActionOut().easing(dt) })\r\n            .call(() => {\r\n                this.StartGO_Tween(this.gameModle, GoCount);\r\n                // this.GoBezier(GoCount, BezierCount, len);\r\n            })\r\n            .start()\r\n    }\r\n    GoLine(GoCount: number) {\r\n        let getPosition = this.gameModle.pathPositionData.get(this.nowIndex)\r\n        cc.tween(this.nMan)\r\n            .to(this.manSpeed, { x: getPosition.x, y: getPosition.y }, { easing: dt => cc.easeCubicActionOut().easing(dt) })\r\n            .call(() => {\r\n                this.StartGO_Tween(this.gameModle, GoCount);\r\n            })\r\n            .start()\r\n    }\r\n    // GoLine(GoCount: number) {\r\n    //     this.getCount = GoCount;\r\n    //     this.nowIndex++;\r\n    //     this.getCount--;\r\n    //     let gettry: cc.Node = Controll.instens.mapItem.get(this.nowIndex).node\r\n    //     if (gettry == undefined) return;\r\n    //     let getNextMap: cc.Node = Controll.instens.mapItem.get(this.nowIndex).node\r\n    //     // let changePosition: cc.Vec3 = this.convertOtherNodeSpaceAR(getNextMap, this.node);\r\n    //     // console.log(changePosition.x, changePosition.y);\r\n\r\n    //     cc.tween(this.nMan)\r\n    //         .to(1, { x: getNextMap.x, y: getNextMap.y }, { easing: dt => cc.easeCubicActionOut().easing(dt) })\r\n    //         .start()\r\n    // }\r\n    setGameModle(_gameModle: GameModle) {\r\n        console.log(_gameModle);\r\n        \r\n        this.gameModle = _gameModle\r\n    }\r\n\r\n}"]}