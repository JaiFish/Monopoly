{"version":3,"sources":["assets\\Script\\Class\\Message\\Question.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ButtonMng from \"../../Data/base/ButtonMng\";\r\nimport ComponentBase from \"../../Data/base/ComponentBase\";\r\nimport MusciMng from \"../../Data/base/MusciMng\";\r\nimport { Commamnd } from \"../../Enum/Commad\";\r\nimport { GameEvent } from \"../../Enum/GameEvent\";\r\nimport GameModle from \"../../GameModle\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Question extends ComponentBase {\r\n    title: cc.Label;\r\n    info_Text: cc.Label;\r\n    info_Choose: cc.Label;\r\n    info_Normal_5: cc.Node\r\n    info_Normal_9: cc.Node\r\n    item_Btn: cc.Node;\r\n\r\n    baseHight_Text: number = -20\r\n    hightSpacting: number = -30\r\n\r\n\r\n    scrollView: cc.ScrollView\r\n\r\n    content_Btn: cc.Node;\r\n    protected onLoad(): void {\r\n        this.title = cc.find(\"Title\", this.node).getComponent(cc.Label);\r\n        this.item_Btn = cc.find(\"item_Btn\", this.node)\r\n\r\n        this.scrollView = cc.find(\"scroll_Info\", this.node).getComponent(cc.ScrollView);\r\n        this.info_Text = cc.find(\"Text\", this.scrollView.content).getComponent(cc.Label);\r\n        this.info_Choose = cc.find(\"Choose\", this.scrollView.content).getComponent(cc.Label);\r\n        this.info_Normal_5 = cc.find(\"Normal_5\", this.scrollView.content);\r\n        this.info_Normal_9 = cc.find(\"Normal_9\", this.scrollView.content);\r\n        this.content_Btn = cc.find(\"con_Btn\", this.node);\r\n\r\n        this.defaultReset()\r\n    }\r\n    protected start(): void {\r\n        // this.info_Text.string = \"\"\r\n        this.content_Btn.removeAllChildren();\r\n        for (let index = 0; index < 3; index++) {\r\n            let _node = cc.instantiate(this.item_Btn)\r\n            _node.active = true\r\n            let getStr = GameModle.englishLib.returnEnglish(index)\r\n            this.content_Btn.addChild(_node, cc.macro.MIN_ZINDEX, getStr)\r\n            cc.find(\"Text\", _node).getComponent(cc.Label).string = getStr\r\n            _node.y = 0\r\n\r\n            let getIndex = GameModle.englishLib.returnEnglish(index)//轉換ABC\r\n            ButtonMng.addEvent(this.node, \"Question\", \"checkAnswer\", _node.getComponent(cc.Button), getIndex)\r\n        }\r\n        // this.scrollView.scrollToTop(0.1)\r\n        this.item_Btn.active = false\r\n        this.title.string = \"題目\"\r\n    }\r\n    reset() {\r\n        this.info_Normal_5.active = false\r\n        this.info_Normal_9.active = false\r\n        this.scrollView.scrollToTop(0.1)\r\n    }\r\n    setQAInfo(str: string, _level: number, _qaNum: number) {\r\n        // console.log(_level, _qaNum);\r\n\r\n\r\n        this.reset()\r\n        if (_level == 1 && (_qaNum == 4 || _qaNum == 8)) {\r\n            switch (_qaNum) {\r\n                case 4:\r\n                    this.info_Normal_5.active = true\r\n                    break;\r\n                case 8:\r\n                    this.info_Normal_9.active = true\r\n                    break;\r\n            }\r\n        }\r\n        this.info_Text.node.active = true\r\n        this.info_Text.string = str\r\n        this.checkLenght(str)\r\n    }\r\n    setChoose(str: string) {\r\n        this.info_Choose.node.active = true\r\n        this.info_Choose.string = str\r\n    }\r\n    checkAnswer(e: cc.Event, _customEventData: string) {\r\n        GameModle.chooseAnswer = _customEventData\r\n        MusciMng.effectPlay(\"BtnClick\")\r\n        this.EventEmit(GameEvent.SendCommand, Commamnd.EndQA)\r\n        // console.log(e, _customEventData);\r\n        //開始接中央\r\n    }\r\n    checkLenght(str: string) {\r\n        let getHight = 1 + (Math.floor(str.length / 32)) //為了相乘公式必須_+1 不然0行= 0\r\n        this.scrollView.content.getComponent(cc.Layout).spacingY = this.baseHight_Text + (this.hightSpacting * getHight)\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}