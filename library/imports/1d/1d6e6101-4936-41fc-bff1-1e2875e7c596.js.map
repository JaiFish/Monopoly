{"version":3,"sources":["assets\\Script\\WebPostMessage.ts"],"names":[],"mappings":";;;;;;;AAAA,wCAAyC;AACzC,8CAA6C;AAC7C,6CAAwC;AAExC;IAAA;IAyCA,CAAC;IAxCG,sBAAsB;IACtB,gCAAO,GAAP;QACI,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;IACrE,CAAC;IACD,WAAW;IACX,6BAAI,GAAJ,UAAK,IAAY;QACb,YAAY;QACZ,kCAAkC;QAClC,uBAAuB;QAEvB,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QACrC,+BAA+B;IAEnC,CAAC;IACD,WAAW;IACX,yCAAgB,GAAhB,UAAiB,KAAK;QAClB,IAAM,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;QAC3B,IAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;QACrC,wBAAwB;QACxB,QAAQ,MAAM,CAAC,GAAG,CAAC,EAAE;YACjB,KAAK,UAAU;gBACX,qBAAqB;gBAErB,QAAQ,QAAQ,EAAE;oBACd,KAAK,CAAC;wBACF,kBAAQ,CAAC,IAAI,CAAC,qBAAS,CAAC,WAAW,EAAE,iBAAQ,CAAC,UAAU,CAAC,CAAA;wBACzD,MAAM;oBACV;wBACI,MAAM;iBACb;gBACD,MAAM;YACV,KAAK,SAAS;gBACV,kBAAQ,CAAC,IAAI,CAAC,qBAAS,CAAC,WAAW,EAAE,iBAAQ,CAAC,YAAY,CAAC,CAAA;gBAC3D,MAAM;SACb;QAED,gCAAgC;QAChC,8BAA8B;IAClC,CAAC;IAEL,qBAAC;AAAD,CAzCA,AAyCC,IAAA;AAzCY,wCAAc","file":"","sourceRoot":"/","sourcesContent":["import { Commamnd } from \"./Enum/Commad\";\r\nimport { GameEvent } from \"./Enum/GameEvent\";\r\nimport EventMng from \"./Event/EventMng\";\r\n\r\nexport class WebPostMessage {\r\n    // curreVideo: number;\r\n    connect(): void {\r\n        window.addEventListener(\"message\", this.onReceiveMessage, false);\r\n    }\r\n    //  傳給網頁端訊息\r\n    send(data: object): void {\r\n        //@ts-ignore\r\n        // this.curreVideo = data.viewType\r\n        // console.error(data);\r\n\r\n        window.parent.postMessage(data, \"*\");\r\n        // console.log(\"傳遞封包內容\", data);\r\n\r\n    }\r\n    //接收到網頁給的訊息\r\n    onReceiveMessage(event): void {\r\n        const cmd = event.data.cmd;\r\n        const viewType = event.data.viewType;\r\n        // console.error(event);\r\n        switch (String(cmd)) {\r\n            case \"OpenView\":\r\n                // console.log(\"收到\");\r\n\r\n                switch (viewType) {\r\n                    case 0:\r\n                        EventMng.emit(GameEvent.SendCommand, Commamnd.CloseVideo)\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                break;\r\n            case \"Loading\":\r\n                EventMng.emit(GameEvent.SendCommand, Commamnd.WebCheckData)\r\n                break;\r\n        }\r\n\r\n        // EventMng.emit(cmd, viewType);\r\n        // console.log(\"收到內容\", event);\r\n    }\r\n\r\n}"]}